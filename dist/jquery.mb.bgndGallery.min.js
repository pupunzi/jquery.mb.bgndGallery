/*jquery.mb.bgndGallery 08-06-2016
 _ jquery.mb.components 
 _ email: matteo@open-lab.com 
 _ Copyright (c) 2001-2016. Matteo Bicocchi (Pupunzi); 
 _ blog: http://pupunzi.open-lab.com 
 _ Open Lab s.r.l., Florence - Italy 
 */
function mbBgndGallery(a){return jQuery.mbBgndGallery.buildGallery(a)}function uncamel(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function setUnit(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+jQuery/)?""+a+b:a}function setFilter(a,b,c){var d=uncamel(b),e=jQuery.browser.mozilla?"":jQuery.CSS.sfx;a[e+"filter"]=a[e+"filter"]||"",c=setUnit(c>jQuery.CSS.filters[b].max?jQuery.CSS.filters[b].max:c,jQuery.CSS.filters[b].unit),a[e+"filter"]+=d+"("+c+") ",delete a[b]}!function(a){a.mbBgndGallery={name:"mb.bgndGallery",author:"Matteo Bicocchi",version:"1.9.5",build:"2459",clear:!1,defaults:{containment:"body",images:[],shuffle:!1,controls:null,effect:"fade",filter:null,timer:4e3,effTimer:5e3,raster:!1,folderPath:!1,autoStart:!0,grayScale:!1,activateKeyboard:!0,preserveTop:!1,preserveWidth:!1,placeHolder:"",thumbs:{folderPath:"",placeholder:""},onStart:function(){},onChange:function(a,b){},onPause:function(a){},onPlay:function(a){},onNext:function(a){},onPrev:function(a){}},buildGallery:function(b){var c={};a.extend(c,a.mbBgndGallery.defaults,b);var d=a(c.containment).get(0);d.opt=c,d.opt.galleryID=(new Date).getTime(),a.mbBgndGallery.el=d,d.opt.onStart&&d.opt.onStart(),d.opt.gallery=a("<div/>").attr({id:"bgndGallery_"+d.opt.galleryID}).addClass("mbBgndGallery");var e="body"==d.opt.containment?"fixed":"absolute",f={position:e,top:0,let:0,width:"100%",height:"100%",overflow:"hidden","-webkit-transform-style":"flat","-webkit-transform":"translateZ(0)","z-index":0};d.opt.gallery.css(f);var g=d.opt.containment;if("body"!=g&&""!=a(g).text().trim()){var h=a("<div/>").css({position:"absolute",minHeight:"100%",minWidth:"100%",zIndex:3});a(g).wrapInner(h),"static"==a(g).css("position")&&a(g).css("position","relative")}var i=a("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1}).addClass(c.raster?"bgg_raster":"");d.opt.gallery.append(i),a(g).prepend(c.gallery),d.opt.folderPath&&0==d.opt.images.length&&(d.opt.images=a.loadFromSystem(d.opt.folderPath)),d.opt.shuffle&&(d.opt.images=a.shuffle(d.opt.images));var j=d.opt.images.length,k=0;a.mbBgndGallery.preload(d.opt.images[0],d),d.opt.gallery.on("imageLoaded."+d.opt.galleryID,function(){return k++,k==j?void d.opt.gallery.off("imageLoaded."+d.opt.galleryID):void a.mbBgndGallery.preload(d.opt.images[k],d)}),d.opt.imageCounter=0,a.mbBgndGallery.changePhoto(d.opt.images[d.opt.imageCounter],d),d.opt.autoStart||(d.opt.paused=!0,a(d.opt.gallery).trigger("paused")),d.opt.gallery.on("imageReady."+d.opt.galleryID,function(){d.opt.paused||(clearTimeout(d.opt.changing),a.mbBgndGallery.play(d))}),a(window).on("resize",function(){var b=a("img",d.opt.gallery);a.mbBgndGallery.checkSize(b,d)});var l=d.opt.controls;if(l){a(l).addClass("controls");var m=a(d.opt.controls).find(".counter");m.html(d.opt.imageCounter+1+" / "+d.opt.images.length),a.mbBgndGallery.buildControls(l,d),a(d.opt.containment).on("paused",function(){a(d.opt.controls).find(".play").show(),a(d.opt.controls).find(".pause").hide()}),a(d.opt.containment).on("play",function(){a(d.opt.controls).find(".play").hide(),a(d.opt.controls).find(".pause").show()})}return d.opt.activateKeyboard&&a.mbBgndGallery.keyboard(d),a.mbBgndGallery.buildThumbs(d),a(d)},preload:function(b,c){if(a.mbBgndGallery.clear)return void c.opt.gallery.remove();a("<img/>").load(function(){c.opt.gallery.trigger("imageLoaded."+c.opt.galleryID)}).attr("src",b)},checkSize:function(b,c){return b&&!a.mbBgndGallery.changing?a.mbBgndGallery.clear?void c.opt.gallery.remove():b.each(function(){var b=a(this),d=b.attr("w"),e=b.attr("h"),f="body"==c.opt.containment?window:c.opt.containment,g=d/e,h=a(f).width()/a(f).height();g>=h?(b.css("height","100%"),b.css("width","auto")):(b.css("width","100%"),b.css("height","auto")),b.css("margin-left",(a(f).width()-b.width())/2),c.opt.preserveTop||b.css("margin-top",(a(f).height()-b.height())/2),c.opt.preserveWidth&&b.css({width:"100%",height:"auto",left:0,marginLeft:0})}):void 0},changePhoto:function(b,c){if(!document.hasFocus())return void a(window).one("focus",function(){a.mbBgndGallery.changePhoto(b,c)});if(a.mbBgndGallery.clear)return void c.opt.gallery.remove();a.mbBgndGallery.buildThumbs(c),c.opt.thumbs.folderPath.trim().length>0&&c.opt.thumbs.placeholder.trim().length>0&&(a(".sel",a(c.opt.thumbs.placeholder)).removeClass("sel"),a("#mbBgImg_"+c.opt.imageCounter).addClass("sel")),a.mbBgndGallery.changing=!0,clearTimeout(c.opt.changing),c.opt.onChange&&c.opt.onChange(c.opt,c.opt.imageCounter);var d=a("<img/>").hide().load(function(){var b=a(this),d=a("<div/>").css({position:"absolute",top:-5e3});d.append(b),a("body").append(d),b.attr("w",b.width()),b.attr("h",b.height()),d.remove(),c.opt.effect="object"==typeof c.opt.effect?c.opt.effect:a.mbBgndGallery.effects[c.opt.effect],a("img",c.opt.gallery).CSSAnimate(c.opt.effect.exit,c.opt.effTimer,0,c.opt.effect.exitTiming,function(){a(this).length&&a(this).remove()}),b.css({position:"absolute"}),c.opt.gallery.css({"-webkit-backface-visibility":"none","-webkit-transform-style":"preserve-3d","-webkit-perspective":1e3}),c.opt.gallery.append(b),a.mbBgndGallery.changing=!1,a.mbBgndGallery.checkSize(b,c);var e={};for(var f in c.opt.effect.enter)e[f]=0;c.opt.filter&&!a.browser.mozilla&&a.extend(e,c.opt.filter),e.opacity=1,e.scale=1,b.css3(c.opt.effect.enter).show().CSSAnimate(e,c.opt.effTimer,0,c.opt.effect.enterTiming,function(){c.opt.gallery.trigger("imageReady."+c.opt.galleryID)})}).attr("src",b);d.error(function(){var b=a(this);b.attr("src",c.opt.placeHolder)});var e=a(c.opt.controls).find(".counter");e.html(c.opt.imageCounter+1+" / "+c.opt.images.length)},play:function(b){b||(b=this.get(0)),clearTimeout(b.opt.changing);var c=a("img",b.opt.gallery).not(":last");return c.remove(),a.mbBgndGallery.clear?void b.opt.gallery.remove():(b.opt.onPlay&&b.opt.onPlay(b.opt),b.opt.changing=setTimeout(function(){b.opt.paused||(b.opt.onNext&&b.opt.onNext(b.opt),b.opt.imageCounter>=b.opt.images.length-1&&(b.opt.imageCounter=-1),b.opt.imageCounter++,a.mbBgndGallery.changePhoto(b.opt.images[b.opt.imageCounter],a(b.opt.containment).get(0)))},b.opt.paused?0:b.opt.timer),void b.opt.gallery.trigger("play"))},pause:function(b){return b||(b=this.get(0)),a.mbBgndGallery.clear?void b.opt.gallery.remove():(clearTimeout(b.opt.changing),b.opt.paused=!0,b.opt.gallery.trigger("paused"),void(b.opt.onPause&&b.opt.onPause(b.opt)))},next:function(b){return b||(b=this.get(0)),a.mbBgndGallery.clear?void b.opt.gallery.remove():(b.opt.onNext&&b.opt.onNext(b.opt),a.mbBgndGallery.pause(b),b.opt.imageCounter==b.opt.images.length-1&&(b.opt.imageCounter=-1),b.opt.imageCounter++,a.mbBgndGallery.changePhoto(b.opt.images[b.opt.imageCounter],b),void clearTimeout(b.opt.changing))},prev:function(b){return b||(b=this.get(0)),a.mbBgndGallery.clear?void b.opt.gallery.remove():(b.opt.onPrev&&b.opt.onPrev(b.opt),a.mbBgndGallery.pause(b),clearTimeout(b.opt.changing),0==b.opt.imageCounter&&(b.opt.imageCounter=b.opt.images.length),b.opt.imageCounter--,void a.mbBgndGallery.changePhoto(b.opt.images[b.opt.imageCounter],b))},loader:{show:function(){},hide:function(){}},keyboard:function(b){a(document).off("keydown.bgndGallery").on("keydown.bgndGallery",function(c){if(!(a(c.target).is("textarea")||a(c.target).is("input")||a(c.target).is("[contenteditable]")))switch(c.keyCode){case 32:b.opt.paused?(a.mbBgndGallery.play(b),b.opt.paused=!1):(b.opt.paused=!0,a.mbBgndGallery.pause(b)),c.preventDefault();break;case 39:a.mbBgndGallery.next(b),c.preventDefault();break;case 37:a.mbBgndGallery.prev(b),c.preventDefault()}})},buildControls:function(b,c){var d=a(b).find(".pause"),e=a(b).find(".play"),f=a(b).find(".next"),g=a(b).find(".prev"),h=a(b).find(".fullscreen");(a.browser.msie||a.browser.opera||"ontouchstart"in window)&&h.remove(),c.opt.autoStart&&e.hide(),d.on("click",function(){a.mbBgndGallery.pause(c),a(this).hide(),e.show()}),e.on("click",function(){c.opt.paused&&(clearTimeout(c.opt.changing),a.mbBgndGallery.play(c),c.opt.paused=!1)}),f.on("click",function(){a.mbBgndGallery.next(c),d.hide(),e.show()}),g.on("click",function(){a.mbBgndGallery.prev(c),d.hide(),e.show()}),h.on("click",function(){a.mbBgndGallery.runFullscreen(c)}),c.opt.activateKeyboard&&a.mbBgndGallery.keyboard(c)},changeGallery:function(b){var c=this.get(0);clearTimeout(c.opt.changing),c.opt.gallery.off("imageLoaded."+c.opt.galleryID),a.mbBgndGallery.pause(c),c.opt.gallery.fadeOut(),c.opt.images=b,c.opt.imageCounter=-1;var d=c.opt.images,e=d.length,f=0;a.mbBgndGallery.preload(d[f],c),c.opt.gallery.on("imageLoaded."+c.opt.galleryID,function(){return f==e?(c.opt.gallery.off("imageLoaded."+c.opt.galleryID),c.opt.gallery.fadeIn(),a.mbBgndGallery.play(c),void(c.opt.paused=!1)):(a.mbBgndGallery.preload(d[f],c),void f++)}),c.opt.thumbs.folderPath.trim().length>0&&c.opt.thumbs.placeholder.trim().length>0&&a.mbBgndGallery.buildThumbs(c)},changeEffect:function(b){a.mbBgndGallery.el.opt.effect=b},runFullscreen:function(b){function c(a,b){for(var c,d,e=["webkit","moz","ms","o",""],f=0;f<e.length&&!a[c];){if(c=b,""==e[f]&&(c=c.substr(0,1).toLowerCase()+c.substr(1)),c=e[f]+c,d=typeof a[c],"undefined"!=d)return e=[e[f]],"function"==d?a[c]():a[c];f++}}function d(a){c(a,"RequestFullScreen")}function e(){(c(document,"FullScreen")||c(document,"IsFullScreen"))&&c(document,"CancelFullScreen")}b||(b=this.get(0));var f=a.browser.mozilla?"mozfullscreenchange":a.browser.webkit?"webkitfullscreenchange":"fullscreenchange";if(a(document).off(f),a(document).on(f,function(){var d=c(document,"IsFullScreen")||c(document,"FullScreen");if(!d){b.isFullscreen=!1,a(".fullScreen_controls").remove(),a(b.opt.containment).is("body")||a(b.opt.containment).css({width:b.width,height:b.height,top:b.top,left:b.left,position:b.position}),b.opt.gallery.css({background:"transparent"});var e=a("#bgndGallery_"+b.opt.galleryID+" img:first")}a.mbBgndGallery.checkSize(e,b)}),b.isFullscreen)e();else{b.isFullscreen=!0,a(b.opt.containment).is("body")||(b.width=a(b.opt.containment).css("width"),b.height=a(b.opt.containment).css("height"),b.top=a(b.opt.containment).css("top"),b.left=a(b.opt.containment).css("left"),b.position=a(b.opt.containment).css("position"));var g=a(b.opt.controls).clone(!0).addClass("fullScreen_controls").css({position:"absolute",zIndex:1e3,bottom:20,right:20});g.find(".fullscreen").html("exit"),b.opt.gallery.append(g).css({background:"#000"}),a(b.opt.containment).CSSAnimate({width:"100%",height:"100%",top:0,left:0,position:"absolute"},500),d(b.opt.gallery.get(0))}},buildThumbs:function(b){function c(a){return a.split("/").pop()}if(0!=b.opt.thumbs.folderPath.trim().length||0!=b.opt.thumbs.placeholder.trim().length){a(b.opt.thumbs.placeholder).addClass("bgg_thumbnailsContainer");var d=a(b.opt.thumbs.placeholder).children().length||0;if(d!=b.opt.images.length){a(b.opt.thumbs.placeholder).empty();for(var e=0;e<b.opt.images.length;e++){var f=b.opt.thumbs.folderPath+c(b.opt.images[e]),g=a("<img/>").attr({src:f,id:"mbBgImg_"+e}).click(function(){b.opt.imageCounter=a(this).attr("i")-1,a.mbBgndGallery.next(b),b.opt.paused=!0}).attr("i",e).css({opacity:0}).on("load",function(){a(this).fadeTo(1e3,1)});a(b.opt.thumbs.placeholder).append(g)}b.opt.thumbs.folderPath.trim().length>0&&b.opt.thumbs.placeholder.trim().length>0&&(a(".sel",a(b.opt.thumbs.placeholder)).removeClass("sel"),a("#mbBgImg_"+b.opt.imageCounter).addClass("sel"))}}},addImages:function(b,c,d){var e=this.get(0);for(var f in b)e.opt.images.push(b[f]);d&&(e.opt.images=a.shuffle(e.opt.images)),c&&(e.opt.imageCounter=e.opt.images.indexOf(b[0])),a.mbBgndGallery.buildThumbs(e)},removeImages:function(b){var c=this.get(0);for(var d in b){var e=c.opt.images.indexOf(b[d]);e>-1&&c.opt.images.splice(e,1)}a.mbBgndGallery.changePhoto(c.opt.images[c.opt.imageCounter],c),a.mbBgndGallery.buildThumbs(c)},applyFilter:function(a,b){var c=this.get(0),d=c.opt.gallery,e={};e[a]=b,d.css3(e)}},a.fn.mbBgndGalleryPlay=a.mbBgndGallery.play,a.fn.mbBgndGalleryPause=a.mbBgndGallery.pause,a.fn.mbBgndGalleryPrev=a.mbBgndGallery.prev,a.fn.mbBgndGalleryNext=a.mbBgndGallery.next,a.fn.changeGallery=a.mbBgndGallery.changeGallery,a.fn.addImages=a.mbBgndGallery.addImages,a.fn.removeImages=a.mbBgndGallery.removeImages,a.fn.applyFilter=a.mbBgndGallery.applyFilter,a.loadFromSystem=function(b,c){if(b){c||(c=["jpg","jpeg","png"]);var d=[];return a.ajax({url:b,async:!1,success:function(e){var f=a(e),g=f.find("[href]");g.each(function(){for(var e in c)a(this).attr("href").indexOf(c[e])>=0&&d.push(b+a(this).attr("href")),d=a.unique(d)}),f.remove()}}),0!=d.length?d:!1}},a.shuffle=function(a){for(var b=a.slice(),c=b.length,d=c;d--;){var e=parseInt(Math.random()*c),f=b[d];b[d]=b[e],b[e]=f}return b}}(jQuery),jQuery.mbBgndGallery.effects={fade:{enter:{left:0,opacity:0},exit:{left:0,opacity:0},enterTiming:"ease-in",exitTiming:"ease-in"},slideUp:{enter:{top:"100%",opacity:0},exit:{top:0,opacity:0},enterTiming:"ease-in",exitTiming:"ease-in"},slideDown:{enter:{top:"-100%",opacity:0},exit:{top:0,opacity:0},enterTiming:"ease-in",exitTiming:"ease-in"},slideLeft:{enter:{x:"100%",opacity:0},exit:{x:"-100%",opacity:0},enterTiming:"easeOutQuad",exitTiming:"easeOutQuad"},slideRight:{enter:{x:"-100%",opacity:1},exit:{y:"100%",opacity:0}},zoom:{enter:{scale:1+5*Math.random(),opacity:0},exit:{scale:1+5*Math.random(),opacity:0},enterTiming:"cubic-bezier(0.19, 1, 0.22, 1)",exitTiming:"cubic-bezier(0.19, 1, 0.22, 1)"},zoomBlur:{enter:{opacity:0,blur:10,scale:2},exit:{opacity:0,blur:10,scale:2},enterTiming:"cubic-bezier(0.19, 1, 0.22, 1)",exitTiming:"cubic-bezier(0.19, 1, 0.22, 1)"},blur:{enter:{opacity:0,blur:10},exit:{opacity:0,blur:10},enterTiming:"cubic-bezier(0.19, 1, 0.22, 1)",exitTiming:"cubic-bezier(0.19, 1, 0.22, 1)"}},jQuery.support.CSStransition=function(){var a=document.body||document.documentElement,b=a.style;return void 0!==b.transition||void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.MsTransition||void 0!==b.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(a){var b=jQuery.extend(!0,{},a);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-");for(var c in b){"transform"===c&&(b[jQuery.CSS.sfx+"transform"]=b[c],delete b[c]),"transform-origin"===c&&(b[jQuery.CSS.sfx+"transform-origin"]=a[c],delete b[c]),"filter"!==c||jQuery.browser.mozilla||(b[jQuery.CSS.sfx+"filter"]=a[c],delete b[c]),"blur"===c&&setFilter(b,"blur",a[c]),"brightness"===c&&setFilter(b,"brightness",a[c]),"contrast"===c&&setFilter(b,"contrast",a[c]),"grayscale"===c&&setFilter(b,"grayscale",a[c]),"hueRotate"===c&&setFilter(b,"hueRotate",a[c]),"invert"===c&&setFilter(b,"invert",a[c]),"saturate"===c&&setFilter(b,"saturate",a[c]),"sepia"===c&&setFilter(b,"sepia",a[c]);var d="";"x"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateX("+setUnit(a[c],"px")+")",delete b[c]),"y"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateY("+setUnit(a[c],"px")+")",delete b[c]),"z"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateZ("+setUnit(a[c],"px")+")",delete b[c]),"rotate"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotate("+setUnit(a[c],"deg")+")",delete b[c]),"rotateX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateX("+setUnit(a[c],"deg")+")",delete b[c]),"rotateY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateY("+setUnit(a[c],"deg")+")",delete b[c]),"rotateZ"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateZ("+setUnit(a[c],"deg")+")",delete b[c]),"scale"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scale("+setUnit(a[c],"")+")",delete b[c]),"scaleX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleX("+setUnit(a[c],"")+")",delete b[c]),"scaleY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleY("+setUnit(a[c],"")+")",delete b[c]),"scaleZ"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleZ("+setUnit(a[c],"")+")",delete b[c]),"skew"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skew("+setUnit(a[c],"deg")+")",delete b[c]),"skewX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewX("+setUnit(a[c],"deg")+")",delete b[c]),"skewY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewY("+setUnit(a[c],"deg")+")",delete b[c]),"perspective"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" perspective("+setUnit(a[c],"px")+")",delete b[c])}return b},getProp:function(a){var b=[];for(var c in a)b.indexOf(c)<0&&b.push(uncamel(c));return b.join(",")},animate:function(a,b,c,d,e){return this.each(function(){function f(){g.called=!0,g.CSSAIsRunning=!1,h.off(jQuery.CSS.transitionEnd+"."+g.id),clearTimeout(g.timeout),h.css(jQuery.CSS.sfx+"transition",""),"function"==typeof e&&e.apply(g),"function"==typeof g.CSSqueue&&(g.CSSqueue(),g.CSSqueue=null)}var g=this,h=jQuery(this);g.id=g.id||"CSSA_"+(new Date).getTime();var i=i||{type:"noEvent"};if(g.CSSAIsRunning&&g.eventType==i.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)return void(g.CSSqueue=function(){h.CSSAnimate(a,b,c,d,e)});if(g.CSSqueue=null,g.eventType=i.type,0!==h.length&&a){if(a=jQuery.normalizeCss(a),g.CSSAIsRunning=!0,"function"==typeof b&&(e=b,b=jQuery.fx.speeds._default),"function"==typeof c&&(d=c,c=0),"string"==typeof c&&(e=c,c=0),"function"==typeof d&&(e=d,d="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof b)for(var j in jQuery.fx.speeds){if(b==j){b=jQuery.fx.speeds[j];break}b=jQuery.fx.speeds._default}if(b||(b=jQuery.fx.speeds._default),"string"==typeof e&&(d=e,e=null),!jQuery.support.CSStransition){for(var k in a){if("transform"===k&&delete a[k],"filter"===k&&delete a[k],"transform-origin"===k&&delete a[k],"auto"===a[k]&&delete a[k],"x"===k){var l=a[k],m="left";a[m]=l,delete a[k]}if("y"===k){var l=a[k],m="top";a[m]=l,delete a[k]}("-ms-transform"===k||"-ms-filter"===k)&&delete a[k]}return void h.delay(c).animate(a,b,e)}var n={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};n[d]&&(d=n[d]),h.off(jQuery.CSS.transitionEnd+"."+g.id);var o=jQuery.CSS.getProp(a),p={};jQuery.extend(p,a),p[jQuery.CSS.sfx+"transition-property"]=o,p[jQuery.CSS.sfx+"transition-duration"]=b+"ms",p[jQuery.CSS.sfx+"transition-delay"]=c+"ms",p[jQuery.CSS.sfx+"transition-timing-function"]=d,setTimeout(function(){h.one(jQuery.CSS.transitionEnd+"."+g.id,f),h.css(p)},1),g.timeout=setTimeout(function(){return g.called||!e?(g.called=!1,void(g.CSSAIsRunning=!1)):(h.css(jQuery.CSS.sfx+"transition",""),e.apply(g),g.CSSAIsRunning=!1,void("function"==typeof g.CSSqueue&&(g.CSSqueue(),g.CSSqueue=null)))},b+c+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(a){return this.each(function(){var b=jQuery(this),c=jQuery.normalizeCss(a);b.css(c)})};var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.androidStock=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")||-1!=nAgt.indexOf("Edge")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):nAgt.indexOf("mozilla/5.0")>-1&&nAgt.indexOf("android ")>-1&&nAgt.indexOf("applewebkit")>-1&&!(nAgt.indexOf("chrome")>-1)?(verOffset=nAgt.indexOf("Chrome"),jQuery.browser.webkit=!0,jQuery.browser.androidStock=!0,jQuery.browser.name="androidStock",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&jQuery(window).width()>765,jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt);